var nativeSmoothScrollTo=function(e){window.scroll({behavior:"smooth",left:0,top:e.getBoundingClientRect().top+window.pageYOffset})},smoothScrollTo=function(e,t){var o=document.scrollingElement||document.documentElement,n=o.scrollTop,c=e-n,l=+new Date,s=function(r){r=+new Date-l;var a=parseInt,i=r/(t/2);1>i?i=c/2*i*i+n:(i--,i=-c/2*(i*(i-2)-1)+n),o.scrollTop=a(i),r<t?requestAnimationFrame(s):o.scrollTop=e};s()},supportsNativeSmoothScroll="scrollBehavior"in document.documentElement.style,scrollToElem=function(e){e&&(e=document.querySelector(e))&&(supportsNativeSmoothScroll?nativeSmoothScrollTo(e):smoothScrollTo(e.offsetTop,600))};document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".feedback__btn");document.getElementById("form");function t(e){e.classList.add("__error")}function o(e){e.classList.remove("__error")}function n(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}e.addEventListener("click",(function(e){if(function(){let e=0,c=document.querySelectorAll(".__req");for(let l=0;l<c.length;l++){const s=c[l];o(s),s.classList.contains("__email")?n(s)&&(t(s),e++):0==s.checked&&(t(s),e++)}return e}())return alert("Пожалуйста заполните поле Email и укажите согласие на подписку"),console.log("Отправка формы остановлена");alert("Спасибо. Ваша подписка оформлена")})),function(){let e=document.querySelectorAll(".feedback__chb");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("feedback__chb--active")}))}();const c="scrollBehavior"in document.documentElement.style;var l=document.querySelector(".main__arrowtop");function s(){this.classList.add("_transparent")}function r(){this.classList.remove("_transparent")}function a(){.105*document.documentElement.clientWidth>window.pageYOffset?l.hider():l.shower()}!function(e){e.hider=s,e.shower=r}(l),a(),window.addEventListener("scroll",a),l.addEventListener("click",(function(){c?window.pageYOffset&&window.scrollTo({top:0,behavior:"smooth"}):window.pageYOffset&&scrollToElem("#header")}));let i=document.querySelector(".header__nav");document.querySelector("body");function d(){this.classList.contains("card__widg-like-wrap--active")?(this.classList.remove("card__widg-like-wrap--active"),this.querySelector(".card__favorite").href="#close"):(this.classList.add("card__widg-like-wrap--active"),this.querySelector(".card__favorite").href="#openModal")}document.querySelector(".__burger").addEventListener("click",(function(){window.matchMedia("(max-width: 800px)").matches&&(i.classList.contains("__active")?(i.classList.remove("__active"),document.body.style.overflow="visible"):(i.classList.add("__active"),document.body.style.overflow="hidden"))})),function(e){for(let t=0;t<e.length;t++)e[t].addEventListener("click",d)}(document.querySelectorAll(".card__widg-like-wrap"));let u=document.querySelector(".cards__show-block"),m=document.querySelector(".cards__card-box"),h=m.getElementsByClassName("card--hide");const f=u.dataset.n;if(h.length<6)for(let e=0;e<h.length;e++)h[0].classList.remove("card--hide");else for(let e=0;e<6;e++)h[0].classList.remove("card--hide");u.addEventListener("click",(function(){!function(e){if(e.length<f){for(let t=0;t<e.length;t++)e[0].classList.remove("card--hide");0==e.length&&u.classList.add("_hide")}else{for(let t=0;t<f;t++)e[0].classList.remove("card--hide");0==e.length&&u.classList.add("_hide")}}(h)}));let _=m.getElementsByClassName("card__widg-sale");for(let e=0;e<_.length;e++)""==_[e].dataset.percent&&_[e].classList.add("_transparent");let v=m.getElementsByClassName("card__btn");for(let e=0;e<v.length;e++)"Продан"==v[e].dataset.btn?v[e].classList.add("card__btn--bought"):v[e].classList.add("card__btn--buy")}));